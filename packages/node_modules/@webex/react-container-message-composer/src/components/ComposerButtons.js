/* eslint-disable jsx-a11y/label-has-for */
import React from 'react';
import PropTypes from 'prop-types';
import classNames from 'classnames';
import uuid from 'uuid';

import {Icon} from '@momentum-ui/react';

import styles from './ComposerButtons.css';

function ComposerButtons({onAttachFile, composerActions}) {
  const inputId = `messageFileInput-${uuid.v4()}`;

  return (
    (
      composerActions.attachFiles &&
      <div className={classNames('webex-message-composer-buttons', styles.buttonsArea)}>
        <input
          className={classNames('webex-file-input', styles.fileInput)}
          id={inputId}
          multiple="multiple"
          onChange={onAttachFile}
          type="file"
        />
        <label htmlFor={inputId}>
          <Icon
            ariaLabel="Attach Files"
            name="attachment_16"
          />
        </label>
      </div>
    ) || null
  );
}

ComposerButtons.propTypes = {
  onAttachFile: PropTypes.func,
  composerActions: PropTypes.shape({
    attachFiles: PropTypes.bool
  }).isRequired
};

ComposerButtons.defaultProps = {
  onAttachFile: () => {}
};

export default ComposerButtons;
